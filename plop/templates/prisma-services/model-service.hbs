import type { Prisma, PrismaClient } from "@prisma/client";
import { BaseService } from "./../base-service";

import { create{{pascalCase model}} } from "./create-{{kebab-case model}}";
import { get{{pascalCase model}}ById } from "./get-{{kebab-case model}}-by-id";
import { update{{pascalCase model}} } from "./update-{{kebab-case model}}";
import { delete{{pascalCase model}} } from "./delete-{{kebab-case model}}";
import { getAll{{pascalCase model}}s } from "./get-{{kebab-case model}}s";

export class {{pascalCase model}}Service extends BaseService {
  constructor(prisma: PrismaClient) {
    super(prisma);
  }

  async create{{pascalCase model}}(data: Prisma.{{pascalCase model}}CreateInput) {
    await this.beforeAction("create{{pascalCase model}}", data);
    const result = await create{{pascalCase model}}(this.prisma, data);
    await this.afterAction("reate{{pascalCase model}}", result);
    return result;
  }

  async get{{pascalCase model}}ById(id: string) {
    await this.beforeAction("get{{pascalCase model}}ById", id);
    const result = await get{{pascalCase model}}ById(this.prisma, id);
    await this.afterAction("get{{pascalCase model}}ById", result);
    return result;
  }

  async update{{pascalCase model}}(id: string, data: Prisma.{{pascalCase model}}UpdateInput) {
    await this.beforeAction("update{{pascalCase model}}", { id, data });
    const result = await update{{pascalCase model}}(this.prisma, id, data);
    await this.afterAction("update{{pascalCase model}}", result);
    return result;
  }

  async delete{{pascalCase model}}(id: string) {
    await this.beforeAction("delete{{pascalCase model}}", id);
    const result = await delete{{pascalCase model}}(this.prisma, id);
    await this.afterAction("delete{{pascalCase model}}", result);
    return result;
  }

  async getAll{{pascalCase model}}s() {
    await this.beforeAction("getAll{{pascalCase model}}s", null);
    const result = await getAll{{pascalCase model}}s(this.prisma);
    await this.afterAction("getAll{{pascalCase model}}s", result);
    return result;
  }

  // <AUTO-GENERATED METHODS>

  protected async beforeAction(action: string, data: unknown) {
    super.beforeAction(action, data);
    // Custom logic specific to {{pascalCase model}}Service
  }

  protected async afterAction(action: string, result: unknown) {
    super.afterAction(action, result);
    // Custom logic specific to {{pascalCase model}}Service
  }
}



